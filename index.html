<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Onirix Markerless AR</title>
    <script src="https://sdk.onirix.com/onirix-sdk.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        #ar-container {
            width: 100vw;
            height: 100vh;
            background: black;
            position: relative;
        }
        .ui-button {
            position: absolute;
            padding: 10px 15px;
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        #toggle-model {
            top: 20px;
            left: 20px;
        }
        #animate-model {
            top: 20px;
            right: 20px;
        }
        #hotspot-button {
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
        }
        #tooltip {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border-radius: 5px;
            font-size: 14px;
            display: none;
        }
    </style>
</head>
<body>
    <div id="ar-container"></div>
    <button id="toggle-model" class="ui-button">Toggle Model</button>
    <button id="animate-model" class="ui-button">Animate Model</button>
    <button id="hotspot-button" class="ui-button">Show Hotspot</button>
    <div id="tooltip">This is a hotspot!</div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const onirix = new OnirixSDK({
                projectToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjUyMDIsInByb2plY3RJZCI6MTQ0MjgsInJvbGUiOjMsImlhdCI6MTYxNjc1ODY5NX0.8F5eAPcBGaHzSSLuQAEgpdja9aEZ6Ca_Ll9wg84Rp5k' // Replace with your actual project token
            });

            const container = document.getElementById('ar-container');
            let modelVisible = true;
            let currentModel = null;

            onirix.initAR(container).then(() => {
                loadModel('80d9e4b53b2448a4bb1411a7ff3e63a7.glb'); // Load the initial model

                // Toggle model button
                document.getElementById('toggle-model').addEventListener('click', function() {
                    modelVisible = !modelVisible;
                    if (modelVisible) {
                        loadModel('80d9e4b53b2448a4bb1411a7ff3e63a7.glb');
                    } else {
                        loadModel('c9c572b946de4f6b9f0fcc7043c23ea0.glb');
                    }
                });

                // Animate model button
                document.getElementById('animate-model').addEventListener('click', function() {
                    if (currentModel) {
                        currentModel.playAnimation({ animationId: 'animation_1', loop: false });
                    }
                });

                // Hotspot button
                document.getElementById('hotspot-button').addEventListener('click', function() {
                    const tooltip = document.getElementById('tooltip');
                    tooltip.style.display = 'block';
                    setTimeout(() => {
                        tooltip.style.display = 'none';
                    }, 2000);
                });

            }).catch((error) => {
                console.error('Failed to start AR:', error);
            });

            function loadModel(modelId) {
                if (currentModel) {
                    currentModel.remove(); // Remove the existing model
                }
                onirix.loadContent({
                    type: '3d',
                    id: modelId,
                    position: { x: 0, y: 0, z: -1 },
                    scale: { x: 0.5, y: 0.5, z: 0.5 }
                }).then((model) => {
                    currentModel = model; // Store reference to the model
                });
            }
        });
    </script>
</body>
</html>
